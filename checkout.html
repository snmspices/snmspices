<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Checkout - SNM Spices</title>
    <link rel="stylesheet" href="style.css">
    <style>
        .checkout-container {
            max-width: 600px;
            margin: 30px auto;
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
        }
        .checkout-title {
            text-align: center;
            font-size: 24px;
            font-weight: bold;
            margin-bottom: 15px;
        }
        .form-group {
            margin-bottom: 15px;
        }
        label {
            font-weight: 600;
        }
        input, textarea {
            width: 100%;
            padding: 10px;
            margin-top: 5px;
            border-radius: 5px;
            border: 1px solid #ccc;
        }
        .payment-section {
            margin-top: 20px;
            text-align: center;
        }
        .qr-image {
            width: 230px;
            margin: 10px auto;
            display: block;
        }
        .pay-button, .whatsapp-btn {
            width: 100%;
            background: green;
            color: white;
            padding: 12px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 18px;
            margin-top: 10px;
            text-decoration: none;
            display: inline-block;
        }
        .whatsapp-btn {
            background: #25D366;
        }
    </style>
</head>
<body>

<div class="checkout-container">
    <div class="checkout-title">Order Checkout</div>

    <div class="form-group">
        <label>Product</label>
        <input type="text" id="productName" readonly>
    </div>

    <div class="form-group">
        <label>Your Name</label>
        <input type="text" id="customerName" placeholder="Enter your full name" required>
    </div>

    <div class="form-group">
        <label>Phone Number</label>
        <input type="text" id="customerPhone" placeholder="Enter your phone number" required>
    </div>

    <div class="form-group">
        <label>Delivery Address</label>
        <textarea id="customerAddress" rows="3" placeholder="House No, Street, City, Pincode" required></textarea>
    </div>

    <div class="form-group">
        <label>Quantity</label>
        <input type="number" id="customerQty" value="1" min="1">
    </div>

    <div class="payment-section">
        <h3>Make Payment</h3>
        <img src="qr-pay.jpeg" alt="QR Code" class="qr-image">

        <p><b>UPI ID:</b> 6282960125@ybl</p>
        <p><b>Account Holder:</b> NIDHIN P</p>

        <!-- Pay Button -->
        <a id="payButton" class="pay-button">Pay Now</a>

        <!-- WhatsApp Confirmation Button -->
        <a id="waButton" class="whatsapp-btn" target="_blank">
            Send Payment Screenshot on WhatsApp
        </a>
    </div>
</div>

<script>
    // Read product name from URL
    const urlParams = new URLSearchParams(window.location.search);
    const product = urlParams.get("product");
    document.getElementById("productName").value = product;

    // Pay Now Button
    document.getElementById("payButton").href =
        "upi://pay?pa=6282960125@ybl&pn=NIDHIN%20P&tn=Order%20Payment";

    // WhatsApp Message Formatting
    function updateWhatsAppLink() {
        const name = document.getElementById("customerName").value;
        const phone = document.getElementById("customerPhone").value;
        const address = document.getElementById("customerAddress").value;
        const qty = document.getElementById("customerQty").value;

        const message =
            `Order Details:%0A` +
            `Product: ${product}%0A` +
            `Name: ${name}%0A` +
            `Phone: ${phone}%0A` +
            `Address: ${address}%0A` +
            `Quantity: ${qty}%0A%0A` +
            `Payment Screenshot Attached`;

        document.getElementById("waButton").href =
            `https://wa.me/916282960125?text=` + message;
    }

    document.querySelectorAll("input, textarea").forEach(field => {
        field.addEventListener("input", updateWhatsAppLink);
    });

    updateWhatsAppLink();
</script>

</body>
</html>
